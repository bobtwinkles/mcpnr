/*********************************************/
/*                                           */
/* Minecraft cell library                    */
/*                                           */
/* Reed Koser                                */
/*                                           */
/* Process: none                             */
/*                                           */
/* cell area represents XZ footprint.        */
/*                                           */
/*********************************************/
library(minecraft_cells) {
  technology (cmos);
  revision: 1.0;

  time_unit               : "50ms";

  delay_model             : minecraft_delay;

  cell(gate_nand_i2.nbt) {
    area : 9;
    pin(A) {
      direction : input;
    }

    pin(B) {
      direction : input;
    }

    pin(Y) {
      direction : output;
      function : "(A * B)'";
    }
  }

  cell (gate_nor_i2.nbt) {
    area : 6;
    pin(A) {
      direction : input;
    }

    pin(B) {
      direction : input;
    }

    pin(Y) {
      direction : output;
      function : "(A + B)'";
    }
  }

  cell (gate_xor.nbt) {
    area : 9;
    pin(A) {
      direction : input;
    }

    pin(B) {
      direction : input;
    }

    pin(Y) {
      direction : output;
      function : "(A * B') + (A' * B)";
    }
  }

  cell (gate_fa.nbt) {
    area : 12;
    pin(A) {
      direction : input;
    }

    pin(B) {
      direction : input;
    }

    pin(CI) {
      direction : input;
    }

    pin(Y) {
      direction : output;
      function : "((A * B) + (B * CI)) + (CI * A)";
    }

    pin(CO) {
      direction : output;
      function : "(A ^ B) ^ CI";
    }
  }


  cell (gate_not.nbt) {
    area : 3;
    pin(A) {
      direction : input;
    }

    pin(Y) {
      direction : output;
      function : "A'";
    }
  }

  /* This gate will get dropped by followup opt passes but ABC needs it for
   * techmapping */
  cell (gate_buffer) {
    area : 1;
    pin(A) {
      direction : input;
    }

    pin(Y) {
      direction : output;
      function : "A";
    }
  }
}
